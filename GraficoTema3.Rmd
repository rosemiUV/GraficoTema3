---
title: "GraficoTema3"
author: "Grupo V, Tema3 : Visualizaci√≥n de datos"
date: "2024-03-01"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(rio)
COVID<- import("data/owid-covid-data.csv")
COVID_paises_interes <- COVID[COVID$location %in% c("Spain","Italy","France","Germany","Canada","Japan","United States","United Kingdom"),]

library(tidyverse)
capa_base <- ggplot(COVID_paises_interes, aes(x = date, y = new_deaths_smoothed_per_million, color = location, size = location)) +
  geom_line(linetype = "solid")

titulos <- capa_base +
  labs(title = "Daily new confirmed COVID-19 deaths per million people",
       subtitle = "7-day rolling average. For some countries the number of confirmed deaths.\nThis testing as challenges in the attribution of the cause of death.",
       x = "", 
       y = "",caption = "Source: Our World in Data: Coronavirus Pandemic (COVID-19)")

color_especifico <- titulos +
  scale_color_manual(values = c("Spain" = "red", "United States" = "purple", "United Kingdom" = "pink", "Japan" = "darkgrey", "Canada" = "brown", "France" = "orange", "Germany" = "darkgreen", "Italy" = "lightblue"))

grosor_linea <- color_especifico +
  scale_size_manual(values = c("Spain" = 0.8, "United States" = 0.5, "United Kingdom" = 0.5, "Japan" = 0.5, "Canada" = 0.5, "France" = 0.5, "Germany" = 0.5, "Italy" = 0.5))

limites_ejes <- grosor_linea +
  scale_y_continuous(breaks = seq(0, 18, 2)) +
  scale_x_date(date_breaks = "8 months", date_labels = "%b%d,%Y", limits = c(min(COVID_paises_interes$date), max(COVID_paises_interes$date)))

temas_y_background <- limites_ejes +
  theme_classic() +
  theme(panel.grid.major.y = element_line(colour = "black", linetype = "dashed"), panel.grid.minor = element_blank(),plot.caption.position = "plot",
        plot.title = element_text(color = "gray35", size = 21, family ="serif"),
        plot.subtitle = element_text(color = "gray45", size = 14, family = "serif"),
        plot.caption = element_text(color = "gray45 ", size = 12, family = "serif",hjust = 0))
#serif = Times New Roman
temas_y_background

#library(plotly)
#ggplotly(temas_y_background)

#ggsave(temas_y_background, file = "Grafico_Covid.pdf")

```

